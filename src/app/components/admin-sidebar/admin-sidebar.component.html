<div class="admin-sidebar" [class.collapsed]="isCollapsed" [class.mobile-open]="isMobileMenuOpen">
    <!-- Mobile Overlay -->
    <div class="mobile-overlay" (click)="closeMobileMenu()" *ngIf="isMobileMenuOpen"></div>

    <!-- Sidebar Content -->
    <div class="sidebar-content">
        <!-- Header -->
        <div class="sidebar-header">
            <div class="brand" (click)="goToStore()">
                <div class="brand-icon">
                    <i class="fas fa-crown"></i>
                </div>
                <div class="brand-text" *ngIf="!isCollapsed">
                    <span class="brand-name">TechStore</span>
                    <small class="brand-subtitle">Admin Panel</small>
                </div>
            </div>

            <!-- <button class="sidebar-toggle" (click)="toggleSidebar()" title="Toggle Sidebar">
                <i class="fas" [class.fa-chevron-left]="!isCollapsed" [class.fa-chevron-right]="isCollapsed"></i>
            </button> -->
        </div>

        <!-- User Profile -->
        <div class="user-profile" *ngIf="user">
            <div class="user-avatar">
                <img [src]="user.avatar" [alt]="user.name" class="avatar-img">
                <span class="status-indicator" [ngClass]="getStatusClass()"></span>
            </div>
            <div class="user-info" *ngIf="!isCollapsed">
                <h6 class="user-name">{{ user.name }}</h6>
                <span class="user-role">{{ user.role | titlecase }}</span>
                <span class="user-status">{{ getStatusText() }}</span>
            </div>
        </div>

        <!-- Quick Stats -->
        <div class="quick-stats" *ngIf="!isCollapsed">
            <div class="stats-header">
                <h6>Quick Stats</h6>
                <button class="btn-refresh" (click)="loadQuickStats()" title="Refresh Stats">
                    <i class="fas fa-sync-alt"></i>
                </button>
            </div>
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-icon pending">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-info">
                        <span class="stat-value">{{ quickStats.pendingOrders }}</span>
                        <span class="stat-label">Pending</span>
                    </div>
                </div>
                <div class="stat-item">
                    <div class="stat-icon warning">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="stat-info">
                        <span class="stat-value">{{ quickStats.lowStock }}</span>
                        <span class="stat-label">Low Stock</span>
                    </div>
                </div>
                <div class="stat-item">
                    <div class="stat-icon success">
                        <i class="fas fa-user-plus"></i>
                    </div>
                    <div class="stat-info">
                        <span class="stat-value">{{ quickStats.newCustomers }}</span>
                        <span class="stat-label">New Customers</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Navigation Menu -->
        <nav class="sidebar-nav">
            <div class="nav-section">
                <h6 class="section-title" *ngIf="!isCollapsed">Main Menu</h6>
                <ul class="nav-menu">
                    <li *ngFor="let item of menuItems" class="nav-item" [class.active]="item.isActive">
                        <a class="nav-link" (click)="navigateTo(item.path)" [title]="item.title">
                            <span class="nav-icon">
                                <i [class]="item.icon"></i>
                            </span>
                            <span class="nav-text" *ngIf="!isCollapsed">{{ item.title }}</span>
                            <span *ngIf="item.badge && !isCollapsed" class="nav-badge"
                                [ngClass]="item.badgeClass || 'bg-primary'">
                                {{ item.badge }}
                            </span>
                        </a>
                    </li>
                </ul>
            </div>

            <div class="nav-section">
                <h6 class="section-title" *ngIf="!isCollapsed">System</h6>
                <ul class="nav-menu">
                    <li *ngFor="let item of secondaryMenuItems" class="nav-item" [class.active]="item.isActive">
                        <a class="nav-link" (click)="navigateTo(item.path)" [title]="item.title">
                            <span class="nav-icon">
                                <i [class]="item.icon"></i>
                            </span>
                            <span class="nav-text" *ngIf="!isCollapsed">{{ item.title }}</span>
                        </a>
                    </li>
                </ul>
            </div>
        </nav>

        <!-- Sidebar Footer -->
        <div class="sidebar-footer" *ngIf="!isCollapsed">
            <div class="footer-actions">
                <button class="btn-action" (click)="goToStore()" title="Visit Store">
                    <i class="fas fa-store"></i>
                    <span>Visit Store</span>
                </button>
                <button class="btn-action" (click)="logout()" title="Logout">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Logout</span>
                </button>
            </div>
            <div class="system-info">
                <small class="text-muted">v2.1.0 â€¢ Last updated: Today</small>
            </div>
        </div>

        <!-- Collapsed Menu Tooltips -->
        <div class="tooltips-container" *ngIf="isCollapsed">
            <div *ngFor="let item of menuItems" class="nav-tooltip"
                [style.top]="(menuItems.indexOf(item) * 50 + 120) + 'px'">
                {{ item.title }}
                <span *ngIf="item.badge" class="tooltip-badge" [ngClass]="item.badgeClass || 'bg-primary'">
                    {{ item.badge }}
                </span>
            </div>
        </div>
    </div>

    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" (click)="toggleMobileMenu()">
        <i class="fas fa-bars"></i>
    </button>
</div>